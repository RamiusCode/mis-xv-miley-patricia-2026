---
// CodigoVestimenta.astro
---

<section class="relative w-full py-8">
  <div class="w-64 mx-auto mb-6">
    <img src="/imagenes/separadorado.png" alt="" class="w-full h-auto" />
  </div>

  <!-- FRASE SUPERIOR -->
  <div class="max-w-sm mx-auto text-center mb-6" id="frase-vestimenta">
    <p
      class="font-charm px-6 text-xl sm:text-lg text-[#eb8fa3] leading-relaxed"
    >
      He aprendido que estar con quienes quiero es suficiente para ser feliz.
      Ten por seguro que el tiempo y estas letras se borrarán, pero el recuerdo
      de tu presencia esta noche nunca lo olvidaré.
    </p>
  </div>

  <!-- BANNER CÓDIGO DE VESTIMENTA -->
  <div class="flex justify-center mb-8" id="banner-vestimenta">
    <div class="relative px-8 py-2 border-2 border-[#D4AF37] rounded-sm">
      <!-- Esquinas decorativas -->
      <div
        class="absolute -top-1 -left-1 w-3 h-3 border-t-2 border-l-2 border-[#D4AF37]"
      >
      </div>
      <div
        class="absolute -top-1 -right-1 w-3 h-3 border-t-2 border-r-2 border-[#D4AF37]"
      >
      </div>
      <div
        class="absolute -bottom-1 -left-1 w-3 h-3 border-b-2 border-l-2 border-[#D4AF37]"
      >
      </div>
      <div
        class="absolute -bottom-1 -right-1 w-3 h-3 border-b-2 border-r-2 border-[#D4AF37]"
      >
      </div>
      <h2
        class="font-great-vibes text-2xl sm:text-3xl text-[#D4AF37] whitespace-nowrap"
      >
        Código de Vestimenta
      </h2>
    </div>
  </div>

  <!-- ICONOS TRAJE Y VESTIDO -->
  <div
    class="flex justify-center items-end gap-10 sm:gap-16 mb-6"
    id="iconos-vestimenta"
  >
    <!-- Hombres -->
    <div class="flex flex-col items-center gap-2">
      <img
        src="/imagenes/traje.png"
        alt="Traje formal hombres"
        class="w-16 sm:w-24 h-auto object-contain"
      />
      <p class="font-great-vibes text-lg sm:text-xl text-[#eb8fa3]">
        Traje formal
      </p>
      <p
        class="font-charm text-xs sm:text-sm text-[#4a4a4a] uppercase tracking-widest font-bold"
      >
        Hombres
      </p>
    </div>

    <!-- Mujeres -->
    <div class="flex flex-col items-center gap-2">
      <img
        src="/imagenes/vestido.png"
        alt="Vestido formal mujeres"
        class="w-28 sm:w-24 h-auto object-contain"
      />
      <p class="font-great-vibes text-lg sm:text-xl text-[#eb8fa3]">
        Vestido formal
      </p>
      <p
        class="font-charm text-xs sm:text-sm text-[#4a4a4a] uppercase tracking-widest font-bold"
      >
        Mujeres
      </p>
    </div>
  </div>

  <!-- NOTA COLOR RESERVADO -->
  <div class="text-center mb-8" id="nota-color">
    <p class="font-great-vibes text-lg sm:text-xl text-[#eb8fa3]">
      Se reserva el color rosado solo para la quinceañera
    </p>
  </div>

  <!-- FLORES ABAJO -->
  <div class="w-full" id="flores-vestimenta">
    <img
      src="/imagenes/cadena.png"
      alt="Flores decorativas"
      class="w-full h-auto object-cover block"
    />
  </div>
</section>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  document.addEventListener("DOMContentLoaded", () => {
    // Estado inicial
    gsap.set("#frase-vestimenta", { opacity: 0, y: 20 });
    gsap.set("#banner-vestimenta", { opacity: 0, scale: 0.9 });
    gsap.set("#iconos-vestimenta", { opacity: 0, y: 30 });
    gsap.set("#nota-color", { opacity: 0, y: 15 });
    gsap.set("#flores-vestimenta", { opacity: 0, y: 20 });

    ScrollTrigger.create({
      trigger: "#banner-vestimenta",
      start: "top 90%",

      onEnter: () => {
        const tl = gsap.timeline();

        // Todos al mismo tiempo
        tl.to(
          "#frase-vestimenta",
          {
            opacity: 1,
            y: 0,
            duration: 1,
            ease: "power3.out",
          },
          0,
        )
          .to(
            "#banner-vestimenta",
            {
              opacity: 1,
              scale: 1,
              duration: 1,
              ease: "back.out(1.4)",
            },
            0,
          )
          .to(
            "#iconos-vestimenta",
            {
              opacity: 1,
              y: 0,
              duration: 1,
              ease: "power3.out",
            },
            0,
          )
          .to(
            "#nota-color",
            {
              opacity: 1,
              y: 0,
              duration: 0.9,
              ease: "power3.out",
            },
            0,
          )
          .to(
            "#flores-vestimenta",
            {
              opacity: 1,
              y: 0,
              duration: 1,
              ease: "power3.out",
            },
            0,
          );
      },

      onLeaveBack: () => {
        gsap.set("#frase-vestimenta", { opacity: 0, y: 20 });
        gsap.set("#banner-vestimenta", { opacity: 0, scale: 0.9 });
        gsap.set("#iconos-vestimenta", { opacity: 0, y: 30 });
        gsap.set("#nota-color", { opacity: 0, y: 15 });
        gsap.set("#flores-vestimenta", { opacity: 0, y: 20 });
      },
    });
  });
</script>
